<template>
  <compose class='sets-nav' view='./compose-views/sets-nav.html'></compose>
  <div class='d-flex flex-column height-100'>
    <div class='flex-grow-1'>
      <div id="sheet"></div>
          
      <div class='text-center'>
        <span class='text-muted'>select the notes</span>
        <div if.bind='!game.in_game'>
          <button click.delegate='startGame()'>start game</button>
        </div>
        <div if.bind='game.in_game && !game.paused'>
          <button click.delegate='pauseGame()'>pause game</button>
        </div>
        <div if.bind='game.in_game && game.paused'>
          <button click.delegate='resumeGame()'>resume game</button>
        </div>
      </div>
      
    </div>
    <div class='flex-grow-1 overflow-y-scroll'>
      <div class='text-center pt-3' if.bind='game.in_game && game.in_round && !game.paused'>
        <button click.delegate='playKey("c/4")'>c</button>
        <button click.delegate='playKey("d/4")'>d</button>
        <button click.delegate='playKey("e/4")'>e</button>
        <button click.delegate='playKey("f/4")'>f</button>
        <button click.delegate='playKey("g/4")'>g</button>
        <button click.delegate='playKey("a/4")'>a</button>
        <button click.delegate='playKey("b/4")'>b</button>
      </div>

      <div class='col-12 pt-3' if.bind='!game.in_game && game.round_results.length'>
        <table class='table table-striped'>
          <thead>
            <tr>
              <th>Finished</th>
              <th>Notes Correct</th>
              <th>Time to Finish</th>
            </tr>
          </thead>
          <tbody>
            <tr repeat.for='result of game.round_results'>
              <td>${result.finished}</td>
              <td>${result.num_notes_correct}/${game.possible_notes}</td>
              <td>${result.time_to_finish / 1000}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</template>